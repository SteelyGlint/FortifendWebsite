<!DOCTYPE html>
<html lang="en" style="background-color: #2b222a;">
<head>
  <meta charset="utf-8">
  <title>Fortifend</title>
  <meta name="description" content="A brief description of your site for search engines">
  <meta name="author" content="Information about the author here">
<!--  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>-->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes"/>
  <link rel="preload" href="./images/capsule8.png" as="image">
  <link rel="preload" href="./images/title-logo-small.png" as="image">
  <link rel="icon" type="image/png" href="./images/favicon.png">
</head>
<body>
  <header id="header">
    <div class="cropped-image">
      <img src="./images/capsule8.png"  alt="Moss monster in the background>">
<!--      <img src="./images/capsule6.webp" width="450px"  alt="Moss monster in the background>">-->

    </div>

    <div class="banner-container">
<!--      <img src="./images/title-logo-small.png"-->
<!--           class="banner-image"-->
<!--           alt="fortifend logo">-->
    </div>

  </header>


  <div class="marketing-content">
    <h3 class="marketing-content__slogan">Found your city</h3>
    <h3 class="marketing-content__slogan">Prosper in untamed lands</h3>
    <h3 class="marketing-content__slogan">Withstand the demon horde</h3>
    <h3 class="marketing-content__slogan">Forge your fortress</h3>
  </div>

  <div class="marketing-content">
      <a href="https://store.steampowered.com/app/YOUR_APP_ID/Fortifend/" class="cta-button">
          WISHLIST ON STEAM
      </a>
  </div>


  <div id="container">

<!--    <div class="features">-->
<!--      <ul class="features__list">-->

<!--        <li class="features__item">-->
<!--&lt;!&ndash;          <div class="features__icon">üè∞</div>&ndash;&gt;-->
<!--          <h3 class="features__title">Multi-Tiered Defenses</h3>-->
<!--            <img class="features__image"-->
<!--                 src="./images/game_wide1.png"-->
<!--                 data-fullsize="./images/game_wide1.png">-->
<!--          <p class="features__description">Construct devastating multi-layered defensive arrangements by combining tower abilities with natural 3d terrain advantages.</p>-->
<!--        </li>-->

<!--        <li class="features__item">-->
<!--&lt;!&ndash;          <div class="features__icon">‚öíÔ∏è</div>&ndash;&gt;-->
<!--          <h3 class="features__title">Resource Management</h3>-->
<!--            <img class="features__image"-->
<!--                 src="./images/game_wide2.png"-->
<!--                 data-fullsize="./images/game_wide1.png">-->
<!--          <p class="features__description">Construct strategic defenses while preserving the economic arteries that keep your civilization thriving.</p>-->
<!--        </li>-->

<!--        <li class="features__item">-->
<!--            &lt;!&ndash;          <div class="features__icon">üèîÔ∏è</div>&ndash;&gt;-->
<!--          <h3 class="features__title">3D Terrain Mastery</h3>-->
<!--          <img class="features__image"-->
<!--            src="./images/game_wide1.png"-->
<!--            data-fullsize="./images/game_wide1.png">-->
<!--&lt;!&ndash;          <p class="features__description">Build your medieval stronghold and expand your city across ever-changing procedural landscapes where no two maps are identical.</p>&ndash;&gt;-->
<!--          <p class="features__description">Exploit elevation advantages for devastating attack range and strategic damage bonuses as you build your medieval stronghold and expand across ever-changing procedural landscapes.</p>-->
<!--        </li>-->
<!--      </ul>-->
<!--    </div>-->
    </div>



    <div class="features2">

        <h5 class="features2__description">
            Fortifend is a fantasy city builder with a mix of resource management and strategic tower defense. As Lord Mayor, build your settlement into a fortified city capable of fending off waves of demonic invaders. Guard the gates!
        </h5>

        <video autoplay playsinline muted loop class="features2__video">
            <source src="./video/1_establish_keep.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <h5 class="features2__description">Establish your keep and guide the expansion of your city as it sprawls across scenic procedural terrain. Never the same map twice!</h5>
        <img class="features2__image"
             src="./images/game_wide1.png">
        <h5 class="features2__description">Fortify your city with walls and towers. Balance defense with the need for your citizens to have a clear path to their places of work. </h5>
        <video autoplay playsinline muted loop class="features2__video">
            <source src="./video/3_construct_strategic_defense.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <h5 class="features2__description">Construct your defenses strategically to gain a defensive advantage from rivers and cliffs. Fend off the vast hordes of rampaging monsters that creep forth to destroy you. </h5>
        <img class="features2__image"
             src="./images/game_wide2.png">
        <h5 class="features2__description">Equip your towers with the right armaments to lay waste to dozens of charming demonic beasts. Pierce their defenses and exploit their weaknesses. </h5>
        <video autoplay playsinline muted loop class="features2__video">
            <source src="./video/5_recruit_wizards.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <h5 class="features2__description">Recruit powerful elite wizards and station them in your wizard towers to give your city a fighting chance against the escalating enemy swarm.</h5>
        <img class="features2__image"
             src="./images/game_wide3.png">
        <h5 class="features2__description">Manage resource production through four beautiful seasons each year as your settlement grows into a prosperous fortified city. </h5>
    </div>



<!--    <div class="trailer-section">-->
<!--      <div id="game-trailer"-->
<!--           class="video-placeholder"-->
<!--           data-video-src="trailer_combat_simple.mp4"-->
<!--           style="background-image: url('./images/thumbnails/trailer_combat_simple-768.webp')"-->
<!--      >-->
<!--        <div class="play-button">‚ñ∂</div>-->
<!--      </div>-->
<!--    </div>-->


    <div class="content">

<!--      <div class="gallery">-->
<!--        <div class="gallery__grid">-->
<!--          <div class="gallery__item">-->
<!--            <img-->
<!--                    src="./images/game_wide1.png"-->
<!--                    data-fullsize="./images/game_wide1.png">-->
<!--            <div class="gallery__info">-->
<!--              <h5 class="gallery__text">Fortify your city with walls and towers. Balance defense with the need for your citizens to have a clear path to their places of work</h5>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->

      <div class="gallery">
        <div class="gallery__grid">
          <div class="gallery__item">
            <img
                    src="./images/thumbnails/screenshot_hud_trade-768.webp"
                    data-fullsize="./screenshot_hud_trade.webp"
                    alt="Trade interface showing resource exchange"
                    class="gallery__image">
            <div class="gallery__info">
              <h5 class="gallery__text">Exchange food, tools, and labor while managing your trade balance to ensure your settlement thrives through every season.</h5>
            </div>
          </div>
          <div class="gallery__item">
            <img
                    src="./images/thumbnails/screenshot_terrain_hud-768.webp"
                    data-fullsize="./screenshot_terrain_hud.webp"
                    alt="Game Artwork 1"
                    class="gallery__image">
            <div class="gallery__info">
              <h5 class="gallery__text">Navigate diverse terrain with forests, mountains, and waterways while defending against looming threats in this pixel-perfect strategy adventure.</h5>
            </div>
          </div>
        </div>

        <div class="gallery__fullscreen" style="display: none;">
          <!-- Image to display in fullscreen -->
          <img class="gallery__fullscreen-image" src="" alt="Fullscreen game screenshot">

          <!-- Close button -->
          <button class="gallery__fullscreen-close" aria-label="Close fullscreen view">√ó</button>

          <!-- Usage instructions -->
          <div class="gallery__fullscreen-instructions instructions">
            <span>Scroll or pinch to zoom ‚Ä¢ Click and drag to pan</span>
          </div>

        </div>

      </div>
    </div>
  </div>




  <style>
    #debug-panel {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background-color: rgba(0, 0, 0, 0.7);
      color: #4cff4c;
      font-family: monospace;
      padding: 10px;
      border-radius: 4px;
      font-size: 12px;
      z-index: 9999;
      user-select: none;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
      min-width: 180px;
    }
    #debug-panel table {
      border-collapse: collapse;
      width: 100%;
    }
    #debug-panel td {
      padding: 2px 4px;
    }
    #debug-panel td:first-child {
      font-weight: bold;
      padding-right: 8px;
    }
    #debug-panel .debug-heading {
      color: #ff9c4c;
      margin-bottom: 5px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #debug-panel .collapse-btn {
      cursor: pointer;
      font-size: 14px;
    }
    #debug-panel-content {
      transition: max-height 0.3s;
      overflow: hidden;
      max-height: 500px;
    }
    #debug-panel.collapsed #debug-panel-content {
      max-height: 0;
    }
    #debug-panel .debug-section {
      margin-top: 8px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      padding-top: 5px;
    }
    #debug-panel button {
      background: #333;
      color: #fff;
      border: none;
      padding: 2px 5px;
      margin: 2px;
      border-radius: 3px;
      cursor: pointer;
      font-size: 10px;
    }
    #debug-panel button:hover {
      background: #555;
    }
  </style>
  <div id="debug-panel">
    <div class="debug-heading">
      <span>Debug Panel</span>
      <span class="collapse-btn" onclick="toggleDebugPanel()">‚àí</span>
    </div>
    <div id="debug-panel-content">
      <table>
        <tr>
          <td>Viewport:</td>
          <td id="viewport-size">0 x 0</td>
        </tr>
        <tr>
          <td>Device Pixel Ratio:</td>
          <td id="device-pixel-ratio">1</td>
        </tr>
        <tr>
          <td>User Agent:</td>
          <td id="user-agent-type">Unknown</td>
        </tr>
      </table>

      <div class="debug-section">
        <table>
          <tr>
            <td>Document:</td>
            <td id="document-size">0 x 0</td>
          </tr>
          <tr>
            <td>Scroll Position:</td>
            <td id="scroll-position">0, 0</td>
          </tr>
        </table>
      </div>

      <div class="debug-section">
        <button onclick="toggleGrid()">Toggle Grid</button>
        <button onclick="toggleOutlines()">Toggle Outlines</button>
        <button onclick="checkLineHeight()">Check Line Heights</button>
        <button onclick="toggleFps()">Show FPS</button>
      </div>

      <div class="debug-section">
        <div id="mouse-position">Mouse: 0, 0</div>
        <div id="fps-counter" style="display: none;">FPS: 0</div>
        <div id="selected-element"></div>
      </div>
    </div>
  </div>

  <script>
    let panelCollapsed = false;
    let gridEnabled = false;
    let outlinesEnabled = false;
    let fpsEnabled = false;
    let gridOverlay = null;
    let lastFrameTime = 0;
    let frameCount = 0;
    let currentFps = 0;

    // Initialize the debug panel
    function initDebugPanel() {
      updateViewportInfo();
      document.addEventListener('mousemove', updateMousePosition);
      window.addEventListener('resize', updateViewportInfo);
      window.addEventListener('scroll', updateScrollPosition);

      // Update every 500ms
      setInterval(updateViewportInfo, 500);

      // For FPS counter
      if (window.requestAnimationFrame) {
        requestAnimationFrame(measureFps);
      }

      // Detect and show browser/platform info
      detectBrowserInfo();
    }

    function updateViewportInfo() {
      // Viewport dimensions
      document.getElementById('viewport-size').textContent =
              `${window.innerWidth} x ${window.innerHeight}`;

      // Device pixel ratio
      document.getElementById('device-pixel-ratio').textContent =
              window.devicePixelRatio.toFixed(2);

      // Document dimensions
      document.getElementById('document-size').textContent =
              `${document.documentElement.scrollWidth} x ${document.documentElement.scrollHeight}`;

      // Update scroll position
      updateScrollPosition();
    }

    function updateScrollPosition() {
      document.getElementById('scroll-position').textContent =
              `${window.scrollX}, ${window.scrollY}`;
    }

    function updateMousePosition(e) {
      document.getElementById('mouse-position').textContent =
              `Mouse: ${e.clientX}, ${e.clientY}`;

      // Show element under mouse on click
      document.addEventListener('click', function(e) {
        if (e.target.id !== 'debug-panel' && !document.getElementById('debug-panel').contains(e.target)) {
          document.getElementById('selected-element').textContent =
                  `Selected: ${e.target.tagName.toLowerCase()}${e.target.id ? '#'+e.target.id : ''}${e.target.className ? '.'+e.target.className.replace(/\s+/g, '.') : ''}`;
        }
      });
    }

    function toggleDebugPanel() {
      panelCollapsed = !panelCollapsed;
      document.getElementById('debug-panel').classList.toggle('collapsed', panelCollapsed);
      document.querySelector('.collapse-btn').textContent = panelCollapsed ? '+' : '‚àí';
    }

    function toggleGrid() {
      gridEnabled = !gridEnabled;

      if (gridEnabled) {
        if (!gridOverlay) {
          gridOverlay = document.createElement('div');
          gridOverlay.style.position = 'fixed';
          gridOverlay.style.top = '0';
          gridOverlay.style.left = '0';
          gridOverlay.style.width = '100%';
          gridOverlay.style.height = '100%';
          gridOverlay.style.pointerEvents = 'none';
          gridOverlay.style.zIndex = '9998';

          // 10px grid with high-visibility light lines
          gridOverlay.style.backgroundImage = `
            linear-gradient(to bottom, transparent 9px, rgba(255, 255, 255, 0.25) 1px),
            linear-gradient(to right, transparent 9px, rgba(255, 255, 255, 0.25) 1px),
            linear-gradient(to bottom, transparent 99px, rgba(64, 224, 208, 0.5) 1px),
            linear-gradient(to right, transparent 99px, rgba(64, 224, 208, 0.5) 1px)
          `;
          gridOverlay.style.backgroundSize = `
            10px 10px,
            10px 10px,
            100px 100px,
            100px 100px
          `;

          document.body.appendChild(gridOverlay);
        }
        gridOverlay.style.display = 'block';
      } else if (gridOverlay) {
        gridOverlay.style.display = 'none';
      }
    }

    function toggleOutlines() {
      outlinesEnabled = !outlinesEnabled;

      if (outlinesEnabled) {
        const style = document.createElement('style');
        style.id = 'debug-outlines';
        style.textContent = `
          * {
            outline: 1px solid rgba(255, 0, 0, 0.3) !important;
          }
          img, svg {
            outline: 2px dashed rgba(0, 255, 0, 0.5) !important;
          }
          h1, h2, h3, h4, h5, h6, p {
            outline: 1px dotted rgba(0, 0, 255, 0.5) !important;
          }
        `;
        document.head.appendChild(style);
      } else {
        const outlineStyle = document.getElementById('debug-outlines');
        if (outlineStyle) {
          outlineStyle.remove();
        }
      }
    }

    function checkLineHeight() {
      const textElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, span, div');
      textElements.forEach(el => {
        const computedStyle = window.getComputedStyle(el);
        const lineHeight = computedStyle.lineHeight;

        // Check for potential issues
        if (lineHeight === 'normal' || parseFloat(lineHeight) < 1.0) {
          el.setAttribute('data-original-outline', el.style.outline);
          el.style.outline = '2px solid yellow';

          // Highlight for 3 seconds then revert
          setTimeout(() => {
            el.style.outline = el.getAttribute('data-original-outline') || '';
          }, 3000);
        }
      });
    }

    function toggleFps() {
      fpsEnabled = !fpsEnabled;
      document.getElementById('fps-counter').style.display = fpsEnabled ? 'block' : 'none';
    }

    function measureFps(timestamp) {
      if (!lastFrameTime) {
        lastFrameTime = timestamp;
      }

      frameCount++;
      const elapsed = timestamp - lastFrameTime;

      if (elapsed >= 1000) {
        currentFps = Math.round((frameCount * 1000) / elapsed);
        document.getElementById('fps-counter').textContent = `FPS: ${currentFps}`;

        frameCount = 0;
        lastFrameTime = timestamp;
      }

      requestAnimationFrame(measureFps);
    }

    function detectBrowserInfo() {
      let browserInfo = "Unknown";
      const ua = navigator.userAgent;

      if (/android/i.test(ua)) {
        browserInfo = "Android";
        if (/chrome/i.test(ua)) browserInfo += " Chrome";
        if (/firefox/i.test(ua)) browserInfo += " Firefox";
        if (/samsung/i.test(ua)) browserInfo += " Samsung Browser";
      } else if (/iPad|iPhone|iPod/.test(ua)) {
        browserInfo = "iOS";
        if (/CriOS/i.test(ua)) browserInfo += " Chrome";
        else if (/FxiOS/i.test(ua)) browserInfo += " Firefox";
        else browserInfo += " Safari";
      } else if (/Windows/.test(ua)) {
        browserInfo = "Windows";
        if (/Edge|Edg/.test(ua)) browserInfo += " Edge";
        else if (/Chrome/.test(ua)) browserInfo += " Chrome";
        else if (/Firefox/.test(ua)) browserInfo += " Firefox";
        else if (/MSIE|Trident/.test(ua)) browserInfo += " IE";
      } else if (/Macintosh/.test(ua)) {
        browserInfo = "MacOS";
        if (/Chrome/.test(ua)) browserInfo += " Chrome";
        else if (/Firefox/.test(ua)) browserInfo += " Firefox";
        else if (/Safari/.test(ua)) browserInfo += " Safari";
      } else if (/Linux/.test(ua)) {
        browserInfo = "Linux";
        if (/Chrome/.test(ua)) browserInfo += " Chrome";
        else if (/Firefox/.test(ua)) browserInfo += " Firefox";
      }

      document.getElementById('user-agent-type').textContent = browserInfo;
    }

    // Initialize on load
    window.addEventListener('load', initDebugPanel);
  </script>


  <!-- Do not include the scripts.js or class files here - it is done by the webpack server -->
</body>
</html>
